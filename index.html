<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>Spillane Custom Carpentry</title>
		<link rel="stylesheet" type="text/css" href="scc.css" />
		<script type="text/javascript" src="assets/jquery-lightbox/js/jquery.js"></script>
		<script type="text/javascript" src="assets/js/testimonials.js"></script>
		<script type="text/javascript" src="assets/js/jquery-hashchange.min.js"></script>
		<script type="text/javascript" charset="utf-8">
			var allTabs = ['#about', '#work', '#contact'];
			$(function(){
				$(window).hashchange(onHashChange);
				$(window).hashchange();
			});
			function onHashChange() {
				parseHash();
				var animate = true;
				var tabId = document.hashData.tabId;
				if(!tabId) {
					tabId = allTabs[0];
					animate = false;
				}
				var selectedTab = $(tabId)[0];
				for(var i=0;i<allTabs.length;i++) {
					var tab = $(allTabs[i])[0];
					if(tab == selectedTab) {
						if(tab.className != 'selectedTab') {
							loadTabContent(selectedTab.getAttribute('content'), animate	);
							tab.className = 'selectedTab';
						}
					}else{
						tab.className = i==0 ? 'leftUnselectedTab' : 'tab';
					}
				}
			}
			function loadTabContent(tabContentURL, animate) {
				if(animate) {
					$('#contentPane').hide('slow',function() {
						$('#contentPane').load(tabContentURL, function(){
							$('#contentPane').show('slow');
						});
					});
				}else{
					$('#contentPane').load(tabContentURL);
				}
			}
			function parseHash() {
				var tabId=null;
				var path=null;
				var query=null;
				if(location.hash != '') {
					var hashParts = location.hash.split('?');
					if(hashParts.length > 1) {
						query = createQueryMap(hashParts[1]);
					}
					var pathParts = hashParts[0].split('/');
					if(pathParts.length > 1) {
						path = pathParts[1];
					}
					tabId = pathParts[0];
				}
				document.hashData = {tabId:tabId,path:path,query:query};
			}
			function createQueryMap(query) {
				var args = query.split('&');
				var map = {};
				for(var i=0;i<args.length;i++) {
					var arg = args[i].split('=');
					map[arg[0]] =arg[1];
				}
				return map;
			}
		</script>
	</head>
	<body>
		<div class="centerer">
			<header>
				<img src="assets/images/planer.png" id="planer" />
				<span class="title">Spillane Custom Carpentry</span>
			</header>
			<nav>
				<ul>
					<li id="about" class="tab" content="/about.html">
						<a href="#about">About Us</a>
					</li>
					<li id="work" class="tab" content="/work.html">
						<a href="#work">Our Work</a>
					</li>
					<li id="contact" class="tab" content="contact.html">
						<a href="#contact">Contact Us</a>
					</li>
				</ul>
				<div style="clear:both"></div>
			</nav>
			<div id="bodyContainer">
				<div id="contentPane"></div>
			</div>
			<footer>
				<div class="testimonials">
					<h1>Testimonials</h1>
					<article>
						<blockquote id="testimonial"></blockquote>
						<div id="testimonialAuthor"></div>
					</article>
				</div>
				<div class="services">
					<h1>Services</h1>
					<ul>
						<li><a href="#work/mantles">Mantles</a></li>
						<li><a href="#work/decks">Decks</a></li>
						<li><a href="#work/renovations">Renovations</a></li>
						<li><a href="#work/cabinetry">Cabinetry</a></li>
						<li><a href="#work/trim">Interior Trim</a></li>
					</ul>
				</div>
				<div class="follow">
					<h1>Connect With Us</h1>
					<ul>
						<li><a href="http://www.facebook.com/pages/Spillane-Custom-Carpentry/209987452366806" target="_new"><img src="assets/images/facebook.png" /></a></li>
						<li><a href="http://twitter.com/spillanecustom" target="_new"><img src="assets/images/twitter.png" /></a></li>
						<li><img src="assets/images/linkedin.png" /></li>
					</ul>
				</div>
			</footer>
		</div>
	</body>
</html>